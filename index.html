<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Genesis One Swarm ALPHA</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
/* ===== minimalist dark theme ===== */
html,body{margin:0;height:100%;background:#000;color:#fff;
          font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif}
*{box-sizing:border-box}

/* ===== matrix canvas ===== */
#matrix{position:fixed;inset:0;z-index:0;background:#000;pointer-events:none}

/* ===== WEATHER block (inside wrapper) ===== */
#weather{display:flex;flex-direction:column;align-items:center;gap:.25rem}
#weather .icon{font-size:6rem;line-height:1}
#weather .temp{font-size:4.5rem;font-weight:900;text-shadow:0 0 6px #000}

/* ===== PAGE layout ===== */
.wrapper{position:relative;z-index:1;
         display:flex;flex-direction:column;justify-content:center;
         align-items:center;gap:2rem;min-height:100vh}

#datetime{font-size:1.5rem;font-weight:600;text-align:center}
#title  {font-size:2.3rem;font-weight:800;letter-spacing:1.5px;text-align:center;margin-top:-1rem}

#board{display:flex;flex-direction:column;gap:1.2rem;width:90%;max-width:900px}
.grid{display:grid;grid-template-columns:2.5rem 1fr 1fr 1fr;align-items:center;column-gap:1rem}
.header{font-size:1.1rem;font-weight:600;opacity:.75;text-shadow:0 0 4px #000}
.header span{text-align:center}

.row{font-size:1.8rem;font-weight:700;letter-spacing:.5px}
.row span{text-shadow:0 0 5px #000}
.row + .row{margin-top:.6rem}
.icon,.name,.hash,.best{text-align:center}

/* navigation links */
#navlinks{position:fixed;bottom:34px;left:0;right:0;text-align:center;
          font-size:1rem;font-weight:700;z-index:1}
#navlinks a{color:#fff;text-decoration:none;margin:0 1.5rem}
#navlinks a:hover{text-shadow:0 0 6px #fff}

/* footer */
#footer{position:fixed;bottom:10px;left:0;right:0;text-align:center;
        font-size:.8rem;opacity:.8;text-shadow:0 0 4px #000;z-index:1}

/* responsive */
@media(max-width:600px){
  .row{font-size:1.3rem}
  #title{font-size:1.7rem}
}
</style>
</head>

<body>
<canvas id="matrix"></canvas>

<div class="wrapper">
    <!-- WEATHER (big icon + temp) -->
    <div id="weather">
      <div class="icon">‚è≥</div>
      <div class="temp">--¬∞C</div>
    </div>

    <div id="datetime">Loading time‚Ä¶</div>
    <div id="title">Swarm&nbsp;ALPHA‚Äôs&nbsp;TOP&nbsp;Ranking</div>

    <div id="board">
        <div class="header grid">
            <span class="icon"></span>
            <span class="name">MEMBER</span>
            <span class="hash">HASHRATE</span>
            <span class="best">BEST&nbsp;SHARE</span>
        </div>
        <div id="workers"></div>
    </div>
</div>

<!-- navigation links -->
<div id="navlinks">
  <a href="https://genesisoneco.github.io/alpha-mining">Swarm&nbsp;ALPHA</a>
  <a href="https://genesisoneco.github.io/beta-mining">Swarm&nbsp;BETA</a>
</div>

<!-- copyright footer -->
<div id="footer">Genesis&nbsp;One&nbsp;Mining&nbsp;¬©&nbsp;2025</div>

<script>
/* ===== WEATHER (Seoul) ===== */
const WX_URL='https://api.open-meteo.com/v1/forecast?latitude=37.566&longitude=126.978&current_weather=true&timezone=Asia%2FSeoul';
const iconEl=document.querySelector('#weather .icon');
const tempEl=document.querySelector('#weather .temp');
function wxIcon(code){
  if(code===0) return '‚òÄÔ∏è';
  if([1,2].includes(code)) return 'üå§Ô∏è';
  if(code===3) return '‚òÅÔ∏è';
  if([45,48].includes(code)) return 'üå´Ô∏è';
  if([51,53,55,56,57].includes(code)) return 'üå¶Ô∏è';
  if([61,63,65,80,81,82,66,67].includes(code)) return 'üåßÔ∏è';
  if([71,73,75,77,85,86].includes(code)) return '‚ùÑÔ∏è';
  if([95,96,99].includes(code)) return '‚õàÔ∏è';
  return '‚ùî';
}
async function fetchWeather(){
  try{
    const res=await fetch(WX_URL);
    const data=await res.json();
    const {temperature,weathercode}=data.current_weather;
    iconEl.textContent=wxIcon(weathercode);
    tempEl.textContent=`${Math.round(temperature)}¬∞C`;
  }catch(e){
    console.error('weather error',e);
    iconEl.textContent='‚ö†Ô∏è';
    tempEl.textContent='--¬∞C';
  }
}
fetchWeather();
setInterval(fetchWeather,15*60*1000);

/* ===== CLOCK ===== */
function tickClock(){
  const now=new Date();
  document.getElementById('datetime').textContent=
    now.toLocaleString(undefined,{
      weekday:'short',year:'numeric',month:'long',day:'numeric',
      hour:'2-digit',minute:'2-digit',second:'2-digit'
    });
}
tickClock();setInterval(tickClock,1000);

/* ===== CONFIG ===== */
const ADDRESS='bc1qjstetm3fsjnc0d9xuwqv3wlucm9slcm9l9gqxa';
const CK_URL=`https://solo.ckpool.org/users/${ADDRESS}`;
const PROXY='https://corsproxy.io/?';
const FETCH_URL=PROXY+encodeURIComponent(CK_URL);

/* ===== UTILS ===== */
function toNumber(str='0'){
  let n=parseFloat(str);
  if(str.includes('P'))n*=1e15;else if(str.includes('T'))n*=1e12;
  else if(str.includes('G'))n*=1e9;else if(str.includes('M'))n*=1e6;
  else if(str.includes('K'))n*=1e3;
  return n;
}

/* ===== FETCH + RENDER WORKERS ===== */
async function refreshStats(){
  try{
    const res=await fetch(FETCH_URL);
    if(!res.ok)throw new Error(res.statusText);
    const data=await res.json?await res.json():JSON.parse(await res.text());
    const workers=data.worker??[];
    workers.sort((a,b)=>b.bestever-a.bestever);
    const wrap=document.getElementById('workers');wrap.innerHTML='';
    workers.forEach(w=>{
      const id=w.workername.split('.')[1]??w.workername;
      const hashrate=w.hashrate1m;
      const best=w.bestever.toLocaleString();
      const hNum=toNumber(hashrate);
      const icon=hNum===0?'üî¥':hNum<0.5e12?'üü°':'üü¢';
      wrap.insertAdjacentHTML('beforeend',`
        <div class="row grid">
          <span class="icon">${icon}</span>
          <span class="name">${id}</span>
          <span class="hash">${hashrate}</span>
          <span class="best">${best}</span>
        </div>`);
    });
  }catch(e){
    console.error(e);
    document.getElementById('workers').textContent='Failed to load CKPool data.';
  }
}
refreshStats();setInterval(refreshStats,5000);

/* ===== MATRIX RAIN ===== */
const canvas=document.getElementById('matrix');
const ctx=canvas.getContext('2d');
let w,h,font=14,cols,drops,chars='„Ç¢„Ç°„Ç´„Çµ„Çø„Éä„Éè„Éû„É§„É£„É©„ÉØ„Ç¨„Ç∂„ÉÄ„Éê„Éë„Ç§„Ç£„Ç≠„Ç∑„ÉÅ„Éã„Éí„Éü„É™„É∞„ÇÆ„Ç∏„ÉÇ„Éì„Éî„Ç¶„Ç•„ÇØ„Çπ„ÉÑ„Éå„Éï„É†„É¶„É•„É´„Ç∞„Ç∫„ÉÖ„Éñ„Éó„Ç®„Çß„Ç±„Çª„ÉÜ„Éç„Éò„É°„É¨„É±„Ç≤„Çº„Éá„Éô„Éö„Ç™„Ç©„Ç≥„ÇΩ„Éà„Éé„Éõ„É¢„É®„Éß„É≠„É≤„Ç¥„Çæ„Éâ„Éú„Éù0123456789ABCDEF';
function resize(){
  w=canvas.width=window.innerWidth;h=canvas.height=window.innerHeight;
  cols=Math.floor(w/font);drops=Array(cols).fill(1);}
resize();window.addEventListener('resize',resize);
function draw(){
  ctx.fillStyle='rgba(0,0,0,0.05)';ctx.fillRect(0,0,w,h);
  const day=new Date().getDay();ctx.fillStyle=(day===0||day===6)?'#ff9f00':'#0f0';
  ctx.font=font+'px monospace';
  drops.forEach((y,i)=>{
    ctx.fillText(chars[Math.random()*chars.length|0],i*font,y*font);
    drops[i]=y*font>h&&Math.random()>0.975?0:y+1;
  });
}
setInterval(draw,33);
</script>
</body>
</html>
